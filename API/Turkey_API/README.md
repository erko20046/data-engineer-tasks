# Turkey Parser Microservice API

## Описание

Этот проект реализует API для микросервиса парсинга компаний Турции. Сервис получает данные о компаниях из внешнего источника через gRPC, сохраняет их в базу данных (PostgreSQL через GORM), а также индексирует основные сведения в Elasticsearch.

## Основные возможности

- Получение информации о компаниях по имени или UIN через gRPC.
- Сохранение и обновление данных о компаниях, участниках, индустриях, медиа, контактах и других связанных сущностях.
- Индексация данных компаний в Elasticsearch для быстрого поиска.
- Использование транзакций для обеспечения целостности данных.

## Структура проекта

- `turkey_service.go` — основной сервис для обработки и сохранения данных.
- `turkey_repository.go` — слой репозитория для upsert-операций по всем сущностям.
- `turkey.proto` — описание gRPC API.
- `database/turkey/` — модели таблиц базы данных.

## gRPC API

Описание gRPC API находится в [turkey.proto](turkey.proto).

### Пример запроса

```protobuf
service TurkeyCompaniesScraper {
  rpc LoadData(LoadDataRequest) returns (LoadDataReply);
}
```

## Запуск

1. Скомпилируйте proto-файлы для вашего языка.
2. Соберите и запустите сервис.
3. Убедитесь, что база данных и Elasticsearch доступны.

## Требования

- Go 1.18+
- PostgreSQL
- Elasticsearch 7/8
- gRPC
